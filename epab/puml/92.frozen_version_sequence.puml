@startuml
title Frozen version
center header %date%
footer
The goal of this issue is to provide
a mechanisme to store information about
a frozen executable in a python file
that will automatically be generated by EPAB.
endfooter
caption [[https://github.com/etcher-be/epab/issues/92 EPAB issue #92]]
start
:start of freeze process;
floating note left
At this stage, "version" has
already been computed and passed
to the freezer.
end note
if ("clean" requested?) then (yes)
  :removed package "".spec"" file;
else (no)
endif
:compile Qt resources if present;
:check pyinstaller version & install if needed;
partition "Proposed changes" {
:add ""____frozen____.py"" to root "".gitignore"";
:generate ""____frozen____.py"";
fork
:collect EPAB version;
fork again
:collect pyinstaller version;
fork again
:collect python build;
:collect python implementation;
:collect python version;
:collect python compiler;
fork again
:collect platform name;
:collect platform architecture;
:collect platform uname info;
fork again
:collect installed packages in a dict;
endfork
:write results to ""____frozen____.py"";
}
:proceed with freezing;
:patch resulting exe;
end
@enduml